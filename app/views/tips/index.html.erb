<div>
  <div>
    <h1>
      List of all tips
    </h1>
  </div>
</div>

<hr>

<div>
  <div>
    <h2>
      Create a new tip
    </h2>

    <form action="/insert_tip" method="post">
      
      <div>
        <label for="tip_type_box">
          Category
        </label>

        <input type="text" id="tip_type_box" name="query_tip_type">
      </div>

      <div>
        <label for="tip_text_box">
          Tip text
        </label>

        <input type="text" id="tip_text_box" name="query_tip_text">
      </div>

      <div>
        <label for="tip_pic_box">
          Tip pic
        </label>

        <input type="text" id="tip_pic_box" name="query_tip_pic">
      </div>

      <div>
        <label for="user_id_box">
          User
        </label>

        <input type="text" id="user_id_box" name="query_user_id">
      </div>

      <div>
        <label for="business_id_box">
          Business
        </label>

        <input type="text" id="business_id_box" name="query_business_id">
      </div>    

      <div>
        <label for="upvote_count_box">
          Upvote count
        </label>

        <input type="text" id="upvote_count_box" name="query_upvote_count">
      </div>

      <div>
        <label for="downvote_count_box">
          Downvote count
        </label>

        <input type="text" id="downvote_count_box" name="query_downvote_count">
      </div>

      <button>
        Create tip
      </button>
    </form>
  </div>
</div>

<hr>
<div>
  <div>
    <table>
      <tr>
        <th>
          ID
        </th>

        <th>
          Tip text
        </th>

        <th>
          Tip pic
        </th>

        <th>
          User
        </th>

        <th>
          Business
        </th>

        <th>
          Tip type
        </th>

        <th>
          Upvote count
        </th>

        <th>
          Downvote count
        </th>

        <th>
          Created at
        </th>

        <th>
          Updated at
        </th>

        <th>
        </th>

        <th>
          Upvote
        </th>
      </tr>

      <% @list_of_tips.each do |a_tip| %>
        <div class="card" style="width: 18rem;">
          <img src="<%= a_tip.tip_pic %>" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title"> <%= a_tip.business.business_name %> </h5>
            <p class="card-text"> <%= a_tip.tip_text %> </p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item"> <%= a_tip.tip_type %> </li>
            <li class="list-group-item">Upvotes: <%= a_tip.upvote_count %></li>
            <li class="list-group-item">
              <form action="/insert_vote" method="post">
                <div> <%# Make this a drop down %>
                  <label for="vote_type">
                    Vote Type
                  </label>

                  <input type="text" id="vote_type" name="query_vote_type">
                </div>

                <div> <%# make this automatic %>
                  <label for="tip_id">
                    Tip ID
                  </label>

                  <input type="string" id="tip_id" name="query_tip_id" <%#value="a_tip.id"%> >
                </div>
                
                <button>
                  Upvote
                </button>

              </form>
            </li>
            
            <%# Testing out the condensed upvote button %>
            <li class="list-group-item">
              <form action="/insert_vote" method="post">

              </form>
            </li>
          </ul>
          <div class="card-body">
            <a href="/tips/<%= a_tip.id %>" class="card-link">Show Details</a>
          </div>
        </div>
      <% end %>

      <% @list_of_tips.each do |a_tip| %>
      <tr>
        <td>
          <%= a_tip.id %>
        </td>

        <td>
          <%= a_tip.tip_text %>
        </td>

        <td>
          <img src="<%= a_tip.tip_pic %>">
        </td>

        <td>
          <%= a_tip.user_id %>
        </td>

        <td>
          <%= a_tip.business_id %>
        </td>

        <td>
          <%= a_tip.tip_type %>
        </td>

        <td>
          <%= a_tip.upvote_count %>
        </td>

        <td>
          <%= a_tip.downvote_count %>
        </td>

        <td>
          <%= time_ago_in_words(a_tip.created_at) %> ago
        </td>
        <td>
          <%= time_ago_in_words(a_tip.updated_at) %> ago
        </td>

        <td>
          <a href="/tips/<%= a_tip.id %>">
            Show details
          </a>
        </td>

        <td>
          <form action="/insert_vote" method="post">
            <div> <%# Make this a drop down %>
              <label for="vote_type">
                Vote Type
              </label>

              <input type="text" id="vote_type" name="query_vote_type">
            </div>

            <div> <%# make this automatic %>
              <label for="tip_id">
                Tip ID
              </label>

              <input type="hidden" id="tip_id" name="query_tip_id">
            </div>

            <div> <%# make this automatic %>
              <label for="user_id">
                User ID
              </label>

              <input type="text" id="user_id" name="query_user_id">
            </div>

            <button>
              Upvote
            </button>

          </form>
        </td>
      </tr>
      <% end %>
    </table>
  </div>
</div>

<hr>
